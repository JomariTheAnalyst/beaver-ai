@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-dark-800 text-secondary-500 font-sans;
  }
  
  html {
    @apply scroll-smooth;
  }
}

@layer components {
  /* Material Design Button Styles */
  .btn-material {
    @apply px-6 py-3 rounded-material font-medium transition-all duration-300 
           shadow-material hover:shadow-material-lg transform hover:scale-105
           focus:outline-none focus:ring-2 focus:ring-primary-500/30;
  }
  
  .btn-primary {
    @apply btn-material bg-primary-500 text-secondary-500 
           hover:bg-primary-600 active:bg-primary-700;
  }
  
  .btn-secondary {
    @apply btn-material bg-secondary-500 text-dark-800 
           hover:bg-secondary-400 active:bg-secondary-300;
  }
  
  .btn-ghost {
    @apply btn-material bg-transparent text-secondary-500 border border-primary-500/30
           hover:bg-primary-500/10 hover:border-primary-500/50;
  }
  
  /* Material Design Card Styles */
  .card-material {
    @apply bg-dark-700 rounded-material-lg shadow-material border border-primary-500/20
           backdrop-blur-sm transition-all duration-300;
  }
  
  .card-material-hover {
    @apply card-material hover:shadow-material-lg hover:border-primary-500/40 
           transform hover:scale-[1.02] hover:-translate-y-1;
  }
  
  /* Glimmer Effect */
  .glimmer-border {
    @apply relative overflow-hidden;
  }
  
  .glimmer-border::before {
    content: '';
    @apply absolute inset-0 -translate-x-full;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(238, 238, 238, 0.3),
      transparent
    );
    animation: glimmer 2s infinite;
  }
  
  /* Enhanced Glimmer Effect for Cards */
  .glimmer-card {
    @apply relative overflow-hidden;
    background: linear-gradient(135deg, 
      rgba(57, 62, 70, 0.9) 0%, 
      rgba(34, 40, 49, 0.9) 100%);
    border: 1px solid rgba(238, 238, 238, 0.2);
  }
  
  .glimmer-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: -200%;
    width: 200%;
    height: 100%;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(238, 238, 238, 0.4),
      transparent
    );
    animation: shimmer 2s infinite;
  }
  
  /* Chat Interface Styles */
  .chat-container {
    @apply bg-gradient-to-br from-dark-700/90 to-dark-800/90 
           border border-primary-500/30 rounded-material-xl backdrop-blur-md
           shadow-material-lg;
  }
  
  .conversation-panel {
    @apply bg-gradient-to-br from-dark-700/95 to-dark-800/95 
           border border-primary-500/25 rounded-material-lg backdrop-blur-sm
           shadow-material glimmer-card;
  }
  
  .chat-input {
    @apply w-full p-4 bg-dark-600/50 border border-primary-500/30 rounded-material
           text-secondary-500 placeholder-secondary-400 resize-none
           focus:outline-none focus:border-primary-400 focus:ring-2 focus:ring-primary-500/20
           backdrop-blur-sm transition-all duration-300;
  }
  
  /* Tab System */
  .tab-container {
    @apply bg-dark-700/80 border-b border-primary-500/20 backdrop-blur-sm;
  }
  
  .tab-item {
    @apply px-4 py-3 text-sm font-medium text-secondary-400 
           border-b-2 border-transparent transition-all duration-300
           hover:text-secondary-300 hover:border-primary-500/30;
  }
  
  .tab-item.active {
    @apply text-secondary-500 border-primary-500;
  }
  
  .tab-add {
    @apply p-2 ml-2 text-secondary-400 hover:text-secondary-300 
           hover:bg-primary-500/10 rounded-lg transition-all duration-300;
  }
  
  /* Split Screen Layout */
  .split-screen {
    @apply grid grid-cols-2 gap-4 h-full;
  }
  
  .code-preview-panel {
    @apply card-material p-4 overflow-hidden;
  }
  
  /* Loading States */
  .loading-shimmer {
    @apply bg-gradient-to-r from-dark-600 via-dark-500 to-dark-600 animate-shimmer;
    background-size: 200% 100%;
  }
  
  /* Image Upload Styles */
  .image-upload-zone {
    @apply border-2 border-dashed border-primary-500/30 rounded-material-lg
           bg-dark-600/30 hover:border-primary-500/50 hover:bg-dark-600/50
           transition-all duration-300 cursor-pointer;
  }
  
  .image-preview {
    @apply rounded-lg overflow-hidden shadow-material border border-primary-500/20
           transform hover:scale-105 transition-all duration-300;
  }
  
  /* Ripple Effect */
  .ripple {
    @apply relative overflow-hidden;
  }
  
  .ripple::after {
    content: '';
    @apply absolute rounded-full bg-secondary-500/30 transform scale-0 animate-ripple;
    width: 20px;
    height: 20px;
    left: 50%;
    top: 50%;
    margin-left: -10px;
    margin-top: -10px;
  }
  
  /* Floating Action Button */
  .fab {
    @apply fixed bottom-6 right-6 w-14 h-14 bg-primary-500 text-secondary-500
           rounded-full shadow-material-lg hover:shadow-material-xl
           flex items-center justify-center transition-all duration-300
           hover:scale-110 active:scale-95 z-50;
  }
  
  /* Project Template Cards */
  .template-card {
    @apply card-material-hover p-6 group cursor-pointer;
  }
  
  .template-image {
    @apply w-full h-32 object-cover rounded-lg mb-4 
           transition-all duration-300 group-hover:scale-105;
  }
  
  /* Cloud Background */
  .cloud-bg {
    @apply fixed inset-0 overflow-hidden pointer-events-none;
    background: linear-gradient(135deg, 
      rgba(34, 40, 49, 1) 0%, 
      rgba(57, 62, 70, 0.8) 50%, 
      rgba(34, 40, 49, 1) 100%);
  }
  
  .cloud {
    @apply absolute opacity-10;
    animation: float 20s ease-in-out infinite;
  }
  
  .cloud:nth-child(1) {
    top: 20%;
    left: 10%;
    animation-delay: 0s;
  }
  
  .cloud:nth-child(2) {
    top: 60%;
    right: 10%;
    animation-delay: 8s;
  }
  
  .cloud:nth-child(3) {
    top: 40%;
    left: 60%;
    animation-delay: 16s;
  }
}

@layer utilities {
  .line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }
  
  .line-clamp-3 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 3;
  }
  
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  @apply bg-dark-800;
}

::-webkit-scrollbar-thumb {
  @apply bg-primary-500 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-primary-400;
}

/* Selection */
::selection {
  @apply bg-primary-500/30 text-secondary-500;
}

/* Focus visible */
*:focus-visible {
  @apply outline-none ring-2 ring-primary-500/30 ring-offset-2 ring-offset-dark-800;
}